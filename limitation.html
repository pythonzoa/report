<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ML ë°©ë²•ë¡ ì˜ í•œê³„ ì²´í—˜</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      color: white;
      min-height: 100vh;
      padding: 20px;
    }
    h1 {
      text-align: center;
      font-size: 1.6rem;
      margin-bottom: 10px;
    }
    .subtitle {
      text-align: center;
      color: #9ca3af;
      font-size: 0.9rem;
      margin-bottom: 20px;
    }
    .tabs {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 8px;
      margin-bottom: 20px;
    }
    .tab {
      padding: 10px 16px;
      border: none;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      background: #374151;
      color: white;
    }
    .tab:hover { background: #4b5563; }
    .tab.active { background: #3b82f6; }
    
    .container {
      max-width: 1000px;
      margin: 0 auto;
    }
    .demo-section {
      display: none;
      background: #1f2937;
      border-radius: 16px;
      padding: 24px;
      border: 1px solid #374151;
    }
    .demo-section.active { display: block; }
    
    .demo-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
    }
    .demo-icon {
      font-size: 2rem;
    }
    .demo-title {
      font-size: 1.3rem;
      font-weight: bold;
      color: #fbbf24;
    }
    .demo-subtitle {
      font-size: 0.85rem;
      color: #9ca3af;
    }
    
    .theory-box {
      background: linear-gradient(135deg, #1e3a5f 0%, #1a365d 100%);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 20px;
      border-left: 4px solid #3b82f6;
    }
    .theory-box h4 {
      color: #60a5fa;
      font-size: 0.95rem;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .theory-box p {
      color: #d1d5db;
      font-size: 13.5px;
      line-height: 1.7;
      margin-bottom: 10px;
    }
    .theory-box p:last-child {
      margin-bottom: 0;
    }
    .theory-box ul {
      color: #d1d5db;
      font-size: 13px;
      line-height: 1.8;
      margin-left: 20px;
    }
    .theory-box .formula {
      background: #0f172a;
      padding: 10px 14px;
      border-radius: 6px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      color: #a5f3fc;
      margin: 10px 0;
      overflow-x: auto;
    }
    
    .real-world-box {
      background: linear-gradient(135deg, #3d1f1f 0%, #4a1d1d 100%);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 20px;
      border-left: 4px solid #ef4444;
    }
    .real-world-box h4 {
      color: #fca5a5;
      font-size: 0.95rem;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .real-world-box p {
      color: #d1d5db;
      font-size: 13.5px;
      line-height: 1.7;
      margin-bottom: 8px;
    }
    .real-world-box .example {
      background: #1f1f1f;
      padding: 10px 14px;
      border-radius: 6px;
      font-size: 12.5px;
      color: #fcd34d;
      margin: 8px 0;
    }
    
    .solution-box {
      background: linear-gradient(135deg, #14532d 0%, #166534 100%);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 20px;
      border-left: 4px solid #22c55e;
    }
    .solution-box h4 {
      color: #86efac;
      font-size: 0.95rem;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .solution-box ul {
      color: #d1d5db;
      font-size: 13px;
      line-height: 1.8;
      margin-left: 20px;
    }
    .solution-box li {
      margin-bottom: 6px;
    }
    .solution-box .tag {
      display: inline-block;
      background: #065f46;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 11px;
      margin-right: 6px;
    }
    
    .interactive-area {
      background: #111827;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
    }
    .interactive-area h4 {
      color: #fbbf24;
      font-size: 0.95rem;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      margin-bottom: 16px;
      align-items: center;
    }
    .control-group {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    .control-group label {
      font-size: 12px;
      color: #9ca3af;
    }
    .control-group input[type="range"] {
      width: 150px;
    }
    .control-group select {
      padding: 6px 10px;
      border-radius: 6px;
      border: 1px solid #4b5563;
      background: #374151;
      color: white;
      font-size: 13px;
    }
    button.action {
      padding: 8px 16px;
      border: none;
      border-radius: 6px;
      background: #10b981;
      color: white;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }
    button.action:hover { background: #059669; }
    
    .canvas-container {
      display: flex;
      justify-content: center;
      margin-bottom: 16px;
    }
    canvas {
      background: #0a0a0f;
      border-radius: 8px;
      border: 1px solid #374151;
    }
    
    .result-box {
      background: #1a1a2e;
      border-radius: 8px;
      padding: 14px 16px;
      font-size: 14px;
    }
    .result-box h4 {
      color: #60a5fa;
      margin-bottom: 10px;
    }
    .result-box p {
      color: #d1d5db;
      line-height: 1.6;
    }
    .metric {
      display: inline-block;
      background: #374151;
      padding: 4px 10px;
      border-radius: 4px;
      margin: 4px 4px 4px 0;
      font-size: 13px;
    }
    .metric.good { background: #065f46; }
    .metric.bad { background: #991b1b; }
    .metric.warn { background: #92400e; }
    
    .insight {
      margin-top: 12px;
      padding: 12px;
      background: #1e3a5f;
      border-left: 3px solid #3b82f6;
      border-radius: 0 8px 8px 0;
      font-size: 13px;
      color: #bfdbfe;
      line-height: 1.6;
    }
    
    .collapse-toggle {
      background: none;
      border: 1px solid #4b5563;
      color: #9ca3af;
      padding: 6px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 12px;
      margin-bottom: 12px;
      transition: all 0.2s;
    }
    .collapse-toggle:hover {
      background: #374151;
      color: white;
    }
    .collapsible {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }
    .collapsible.open {
      max-height: 2000px;
    }
  </style>
</head>
<body>
  <h1>ğŸ”¬ ML ë°©ë²•ë¡ ì˜ ì‹¤ì œ í™˜ê²½ í•œê³„ ì²´í—˜</h1>
  <p class="subtitle">ì´ë¡ ê³¼ í˜„ì‹¤ì˜ ê°„ê·¹ì„ ì§ì ‘ ì‹¤í—˜í•˜ê³  ì´í•´í•˜ì„¸ìš”</p>

  <div class="tabs">
    <button class="tab active" onclick="showDemo('imbalance')">í´ë˜ìŠ¤ ë¶ˆê· í˜•</button>
    <button class="tab" onclick="showDemo('curse')">ì°¨ì›ì˜ ì €ì£¼</button>
    <button class="tab" onclick="showDemo('noise')">ë…¸ì´ì¦ˆ ì˜í–¥</button>
    <button class="tab" onclick="showDemo('drift')">ê°œë… ë“œë¦¬í”„íŠ¸</button>
    <button class="tab" onclick="showDemo('k-sensitivity')">Kê°’ ë¯¼ê°ë„</button>
  </div>

  <div class="container">
    
    <!-- ==================== 1. í´ë˜ìŠ¤ ë¶ˆê· í˜• ==================== -->
    <div id="imbalance" class="demo-section active">
      <div class="demo-header">
        <span class="demo-icon">âš–ï¸</span>
        <div>
          <div class="demo-title">í´ë˜ìŠ¤ ë¶ˆê· í˜• (Class Imbalance)</div>
          <div class="demo-subtitle">ì™œ 99% ì •í™•ë„ê°€ ì“¸ëª¨ì—†ì„ ìˆ˜ ìˆëŠ”ê°€?</div>
        </div>
      </div>

      <div class="theory-box">
        <h4>ğŸ“š ì´ë¡ ì  ë°°ê²½</h4>
        <p>
          <strong>í´ë˜ìŠ¤ ë¶ˆê· í˜•</strong>ì€ ë¶„ë¥˜ ë¬¸ì œì—ì„œ ê° í´ë˜ìŠ¤ì˜ ìƒ˜í”Œ ìˆ˜ê°€ í¬ê²Œ ë‹¤ë¥¸ ìƒí™©ì„ ë§í•©ë‹ˆë‹¤. 
          ëŒ€ë¶€ë¶„ì˜ ë¶„ë¥˜ ì•Œê³ ë¦¬ì¦˜ì€ ì „ì²´ ì •í™•ë„ë¥¼ ìµœëŒ€í™”í•˜ë„ë¡ ì„¤ê³„ë˜ì–´, ë‹¤ìˆ˜ í´ë˜ìŠ¤ì— í¸í–¥ëœ ëª¨ë¸ì„ í•™ìŠµí•©ë‹ˆë‹¤.
        </p>
        <div class="formula">
          ì •í™•ë„(Accuracy) = (TP + TN) / (TP + TN + FP + FN)
        </div>
        <p>
          ì´ ì§€í‘œëŠ” í´ë˜ìŠ¤ ë¶ˆê· í˜• ìƒí™©ì—ì„œ <strong>ë‹¤ìˆ˜ í´ë˜ìŠ¤ë§Œ ë§ì¶°ë„ ë†’ì€ ê°’</strong>ì„ ë³´ì…ë‹ˆë‹¤.
          ì˜ˆë¥¼ ë“¤ì–´, 1000ê°œ ì¤‘ ì‚¬ê¸° ê±°ë˜ê°€ 5ê°œë¿ì´ë¼ë©´, ëª¨ë‘ "ì •ìƒ"ìœ¼ë¡œ ì˜ˆì¸¡í•´ë„ 99.5% ì •í™•ë„ë¥¼ ì–»ìŠµë‹ˆë‹¤.
          í•˜ì§€ë§Œ ì‹¤ì œ ê´€ì‹¬ ëŒ€ìƒì¸ ì‚¬ê¸°ëŠ” í•˜ë‚˜ë„ íƒì§€í•˜ì§€ ëª»í•©ë‹ˆë‹¤.
        </p>
      </div>

      <button class="collapse-toggle" onclick="toggleCollapse('imb-details')">
        â–¼ ì‹¬í™” ë‚´ìš© í¼ì¹˜ê¸°
      </button>
      <div id="imb-details" class="collapsible">
        <div class="real-world-box">
          <h4>ğŸŒ ì‹¤ì œ ì‚¬ë¡€</h4>
          <p><strong>ì‹ ìš©ì¹´ë“œ ì‚¬ê¸° íƒì§€:</strong> Kaggleì˜ Credit Card Fraud ë°ì´í„°ì…‹ì—ì„œ ì‚¬ê¸° ë¹„ìœ¨ì€ ì•½ 0.17% (284,807ê±´ ì¤‘ 492ê±´)</p>
          <div class="example">
            "ëª¨ë“  ê±°ë˜ë¥¼ ì •ìƒìœ¼ë¡œ ì˜ˆì¸¡" â†’ ì •í™•ë„ 99.83%, ì‚¬ê¸° íƒì§€ìœ¨ 0%
          </div>
          <p><strong>ì˜ë£Œ ì§„ë‹¨:</strong> í¬ê·€ ì§ˆí™˜ì˜ ìœ ë³‘ë¥ ì´ 0.01%ì¸ ê²½ìš°, ëª¨ë“  í™˜ìë¥¼ "ì •ìƒ"ìœ¼ë¡œ ì§„ë‹¨í•´ë„ 99.99% ì •í™•ë„</p>
          <p><strong>ì œì¡°ì—… ë¶ˆëŸ‰ íƒì§€:</strong> Six Sigma ìˆ˜ì¤€ì˜ ê³µì •ì—ì„œ ë¶ˆëŸ‰ë¥ ì€ 0.00034% (ë°±ë§Œê°œë‹¹ 3.4ê°œ)</p>
        </div>

        <div class="solution-box">
          <h4>ğŸ’¡ í•´ê²° ë°©ë²•</h4>
          <ul>
            <li><span class="tag">ë°ì´í„° ë ˆë²¨</span> <strong>ì˜¤ë²„ìƒ˜í”Œë§ (SMOTE):</strong> ì†Œìˆ˜ í´ë˜ìŠ¤ì˜ í•©ì„± ìƒ˜í”Œ ìƒì„± â†’ ê³¼ì í•© ìœ„í—˜</li>
            <li><span class="tag">ë°ì´í„° ë ˆë²¨</span> <strong>ì–¸ë”ìƒ˜í”Œë§:</strong> ë‹¤ìˆ˜ í´ë˜ìŠ¤ ì¶•ì†Œ â†’ ì •ë³´ ì†ì‹¤ ìœ„í—˜</li>
            <li><span class="tag">ì•Œê³ ë¦¬ì¦˜ ë ˆë²¨</span> <strong>ë¹„ìš© ë¯¼ê° í•™ìŠµ:</strong> ì†Œìˆ˜ í´ë˜ìŠ¤ ì˜¤ë¶„ë¥˜ì— ë†’ì€ ê°€ì¤‘ì¹˜ ë¶€ì—¬</li>
            <li><span class="tag">í‰ê°€ ë ˆë²¨</span> <strong>ì ì ˆí•œ ì§€í‘œ ì‚¬ìš©:</strong> Precision, Recall, F1-Score, AUC-PR</li>
            <li><span class="tag">ì•™ìƒë¸”</span> <strong>Balanced Random Forest, EasyEnsemble</strong> ë“± ë¶ˆê· í˜• íŠ¹í™” ì•Œê³ ë¦¬ì¦˜</li>
          </ul>
        </div>
      </div>

      <div class="interactive-area">
        <h4>ğŸ® ì§ì ‘ ì‹¤í—˜í•´ë³´ê¸°</h4>
        <div class="controls">
          <div class="control-group">
            <label>ì†Œìˆ˜ í´ë˜ìŠ¤ ë¹„ìœ¨: <span id="imb-ratio-val">5%</span></label>
            <input type="range" id="imb-ratio" min="1" max="50" value="5" oninput="updateImbalance()">
          </div>
          <button class="action" onclick="runImbalanceDemo()">ë¶„ë¥˜ ì‹¤í–‰</button>
        </div>
        
        <div class="canvas-container">
          <canvas id="imbalance-canvas" width="450" height="280"></canvas>
        </div>
        
        <div class="result-box" id="imbalance-result">
          <h4>ğŸ“Š ê²°ê³¼</h4>
          <p>ìŠ¬ë¼ì´ë”ë¥¼ ì¡°ì ˆí•˜ê³  "ë¶„ë¥˜ ì‹¤í–‰"ì„ ëˆŒëŸ¬ë³´ì„¸ìš”.</p>
        </div>
      </div>
    </div>

    <!-- ==================== 2. ì°¨ì›ì˜ ì €ì£¼ ==================== -->
    <div id="curse" class="demo-section">
      <div class="demo-header">
        <span class="demo-icon">ğŸ“</span>
        <div>
          <div class="demo-title">ì°¨ì›ì˜ ì €ì£¼ (Curse of Dimensionality)</div>
          <div class="demo-subtitle">ì™œ ê³ ì°¨ì›ì—ì„œ ê±°ë¦¬ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜ì´ ì‹¤íŒ¨í•˜ëŠ”ê°€?</div>
        </div>
      </div>

      <div class="theory-box">
        <h4>ğŸ“š ì´ë¡ ì  ë°°ê²½</h4>
        <p>
          <strong>ì°¨ì›ì˜ ì €ì£¼</strong>ëŠ” Richard Bellmanì´ 1961ë…„ ëª…ëª…í•œ í˜„ìƒìœ¼ë¡œ, ì°¨ì›ì´ ì¦ê°€í•¨ì— ë”°ë¼ 
          ë°ì´í„° ë¶„ì„ê³¼ ì¡°ì§í™”ì— í•„ìš”í•œ ë°ì´í„° ì–‘ì´ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.
        </p>
        <p>
          ê³ ì°¨ì› ê³µê°„ì—ì„œëŠ” ì§ê´€ê³¼ ë‹¤ë¥¸ í˜„ìƒë“¤ì´ ë°œìƒí•©ë‹ˆë‹¤:
        </p>
        <ul>
          <li><strong>ê±°ë¦¬ ì§‘ì¤‘ í˜„ìƒ:</strong> ëª¨ë“  ì ë“¤ ì‚¬ì´ì˜ ê±°ë¦¬ê°€ ë¹„ìŠ·í•´ì§</li>
          <li><strong>ë°ì´í„° í¬ì†Œì„±:</strong> ê°™ì€ ë°€ë„ë¥¼ ìœ ì§€í•˜ë ¤ë©´ ë°ì´í„°ê°€ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ í•„ìš”</li>
          <li><strong>ì´ˆêµ¬(Hypersphere)ì˜ ë¶€í”¼:</strong> ê³ ì°¨ì›ì—ì„œ ëŒ€ë¶€ë¶„ì˜ ë¶€í”¼ê°€ í‘œë©´ ê·¼ì²˜ì— ì§‘ì¤‘</li>
        </ul>
        <div class="formula">
          ê±°ë¦¬ ì§‘ì¤‘: lim(dâ†’âˆ) [max_dist - min_dist] / min_dist â†’ 0
        </div>
        <p>
          ì¦‰, ì°¨ì›(d)ì´ ì»¤ì§ˆìˆ˜ë¡ ìµœëŒ€ ê±°ë¦¬ì™€ ìµœì†Œ ê±°ë¦¬ì˜ <strong>ìƒëŒ€ì  ì°¨ì´ê°€ ì‚¬ë¼ì§‘ë‹ˆë‹¤.</strong>
          K-NNì—ì„œ "ê°€ì¥ ê°€ê¹Œìš´ ì´ì›ƒ"ì˜ ì˜ë¯¸ê°€ í¬ì„ë˜ëŠ” ì´ìœ ì…ë‹ˆë‹¤.
        </p>
      </div>

      <button class="collapse-toggle" onclick="toggleCollapse('curse-details')">
        â–¼ ì‹¬í™” ë‚´ìš© í¼ì¹˜ê¸°
      </button>
      <div id="curse-details" class="collapsible">
        <div class="real-world-box">
          <h4>ğŸŒ ì‹¤ì œ ì‚¬ë¡€</h4>
          <p><strong>ìœ ì „ì²´ ë¶„ì„:</strong> ìˆ˜ë§Œ~ìˆ˜ì‹­ë§Œ ê°œì˜ ìœ ì „ì ë°œí˜„ê°’ (íŠ¹ì„±) vs ìˆ˜ë°± ëª…ì˜ í™˜ì (ìƒ˜í”Œ)</p>
          <div class="example">
            20,000ê°œ ìœ ì „ì, 200ëª… í™˜ì â†’ íŠ¹ì„±ì´ ìƒ˜í”Œë³´ë‹¤ 100ë°° ë§ì€ "p >> n" ë¬¸ì œ
          </div>
          <p><strong>í…ìŠ¤íŠ¸ ë¶„ë¥˜:</strong> Bag-of-Wordsë¡œ í‘œí˜„ ì‹œ ìˆ˜ë§Œ ì°¨ì›ì˜ í¬ì†Œ ë²¡í„°</p>
          <p><strong>ì´ë¯¸ì§€ ì²˜ë¦¬:</strong> 256Ã—256 ì´ë¯¸ì§€ = 65,536ì°¨ì› (RGBë©´ 196,608ì°¨ì›)</p>
        </div>

        <div class="solution-box">
          <h4>ğŸ’¡ í•´ê²° ë°©ë²•</h4>
          <ul>
            <li><span class="tag">íŠ¹ì„± ì„ íƒ</span> <strong>Filter/Wrapper/Embedded:</strong> ì¤‘ìš”í•œ íŠ¹ì„±ë§Œ ì„ íƒ (ì •ë³´ ê¸°ë°˜, ëª¨ë¸ ê¸°ë°˜)</li>
            <li><span class="tag">ì°¨ì› ì¶•ì†Œ</span> <strong>PCA:</strong> ë¶„ì‚° ìµœëŒ€í™” ë°©í–¥ìœ¼ë¡œ ì„ í˜• íˆ¬ì˜ â†’ ë¹„ì„ í˜• êµ¬ì¡° ì†ì‹¤ ê°€ëŠ¥</li>
            <li><span class="tag">ì°¨ì› ì¶•ì†Œ</span> <strong>t-SNE, UMAP:</strong> ë¹„ì„ í˜• ê´€ê³„ ë³´ì¡´ â†’ ëŒ€ê·œëª¨ ë°ì´í„°ì—ì„œ ëŠë¦¼</li>
            <li><span class="tag">ê±°ë¦¬ ì¸¡ì •</span> <strong>ì½”ì‚¬ì¸ ìœ ì‚¬ë„:</strong> ê³ ì°¨ì› í¬ì†Œ ë°ì´í„°ì—ì„œ ìœ í´ë¦¬ë””ì•ˆë³´ë‹¤ íš¨ê³¼ì </li>
            <li><span class="tag">ëª¨ë¸ ì„ íƒ</span> <strong>íŠ¸ë¦¬ ê¸°ë°˜ ëª¨ë¸:</strong> Random Forest, XGBoostëŠ” ì°¨ì›ì˜ ì €ì£¼ì— ìƒëŒ€ì ìœ¼ë¡œ ê°•ê±´</li>
          </ul>
        </div>
      </div>

      <div class="interactive-area">
        <h4>ğŸ® ì§ì ‘ ì‹¤í—˜í•´ë³´ê¸°</h4>
        <div class="controls">
          <div class="control-group">
            <label>ì°¨ì› ìˆ˜: <span id="dim-val">2</span></label>
            <input type="range" id="dim-slider" min="2" max="100" value="2" oninput="updateDimension()">
          </div>
          <div class="control-group">
            <label>ë°ì´í„° í¬ì¸íŠ¸ ìˆ˜</label>
            <select id="n-points">
              <option value="50">50ê°œ</option>
              <option value="100" selected>100ê°œ</option>
              <option value="200">200ê°œ</option>
            </select>
          </div>
          <button class="action" onclick="runCurseDemo()">ì‹¤í—˜ ì‹¤í–‰</button>
        </div>
        
        <div class="canvas-container">
          <canvas id="curse-canvas" width="450" height="280"></canvas>
        </div>
        
        <div class="result-box" id="curse-result">
          <h4>ğŸ“Š ê²°ê³¼</h4>
          <p>ì°¨ì›ì„ ë†’ì´ë©´ì„œ ê±°ë¦¬ ë¹„ìœ¨ ë³€í™”ë¥¼ ê´€ì°°í•˜ì„¸ìš”.</p>
        </div>
      </div>
    </div>

    <!-- ==================== 3. ë…¸ì´ì¦ˆ ì˜í–¥ ==================== -->
    <div id="noise" class="demo-section">
      <div class="demo-header">
        <span class="demo-icon">ğŸ“¡</span>
        <div>
          <div class="demo-title">ë…¸ì´ì¦ˆì™€ ì´ìƒì¹˜ì˜ ì˜í–¥</div>
          <div class="demo-subtitle">ì¡ìŒì´ ëª¨ë¸ì„ ì–´ë–»ê²Œ ì™œê³¡ì‹œí‚¤ëŠ”ê°€?</div>
        </div>
      </div>

      <div class="theory-box">
        <h4>ğŸ“š ì´ë¡ ì  ë°°ê²½</h4>
        <p>
          <strong>ë…¸ì´ì¦ˆ(Noise)</strong>ëŠ” ë°ì´í„° ìˆ˜ì§‘ ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ë¬´ì‘ìœ„ ì˜¤ë¥˜ì´ê³ ,
          <strong>ì´ìƒì¹˜(Outlier)</strong>ëŠ” ëŒ€ë‹¤ìˆ˜ ë°ì´í„°ì™€ í˜„ì €íˆ ë‹¤ë¥¸ íŒ¨í„´ì„ ë³´ì´ëŠ” ê´€ì¸¡ì¹˜ì…ë‹ˆë‹¤.
        </p>
        <p>
          K-Meansì™€ ê°™ì€ ì•Œê³ ë¦¬ì¦˜ì€ ëª¨ë“  ë°ì´í„° í¬ì¸íŠ¸ë¥¼ ë™ë“±í•˜ê²Œ ì·¨ê¸‰í•˜ì—¬ ì¤‘ì‹¬ì ì„ ê³„ì‚°í•©ë‹ˆë‹¤:
        </p>
        <div class="formula">
          centroid = (1/n) Ã— Î£áµ¢ xáµ¢   (ëª¨ë“  ì ì˜ í‰ê· )
        </div>
        <p>
          ì´ ë•Œë¬¸ì— ê·¹ë‹¨ì ì¸ ê°’ í•˜ë‚˜ê°€ ì „ì²´ êµ°ì§‘ì˜ ì¤‘ì‹¬ì„ í¬ê²Œ ì´ë™ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          í‰ê· (mean)ì´ ì¤‘ì•™ê°’(median)ë³´ë‹¤ ì´ìƒì¹˜ì— ë¯¼ê°í•œ ê²ƒê³¼ ê°™ì€ ì›ë¦¬ì…ë‹ˆë‹¤.
        </p>
      </div>

      <button class="collapse-toggle" onclick="toggleCollapse('noise-details')">
        â–¼ ì‹¬í™” ë‚´ìš© í¼ì¹˜ê¸°
      </button>
      <div id="noise-details" class="collapsible">
        <div class="real-world-box">
          <h4>ğŸŒ ì‹¤ì œ ì‚¬ë¡€</h4>
          <p><strong>ì„¼ì„œ ë°ì´í„°:</strong> IoT ì„¼ì„œì˜ ì¼ì‹œì  ì˜¤ì‘ë™, ì „ì†¡ ì˜¤ë¥˜ë¡œ ì¸í•œ ìŠ¤íŒŒì´í¬</p>
          <div class="example">
            ì˜¨ë„ ì„¼ì„œ: [..., 23.5, 24.1, 999.0, 23.8, ...] â†’ 999.0ì€ ì„¼ì„œ ì˜¤ë¥˜
          </div>
          <p><strong>ê¸ˆìœµ ë°ì´í„°:</strong> ì…ë ¥ ì‹¤ìˆ˜ë¡œ ì¸í•œ ì˜ëª»ëœ ê±°ë˜ ê¸ˆì•¡ (ì˜ˆ: $100 ëŒ€ì‹  $10,000)</p>
          <p><strong>ì˜ë£Œ ë°ì´í„°:</strong> ì¸¡ì • ì¥ë¹„ ë³´ì • ì˜¤ë¥˜, í™˜ì ì •ë³´ ì…ë ¥ ì‹¤ìˆ˜</p>
          <p><strong>ì„¤ë¬¸ ë°ì´í„°:</strong> ë¶ˆì„±ì‹¤ ì‘ë‹µ, ì˜ë„ì  í—ˆìœ„ ì‘ë‹µ</p>
        </div>

        <div class="solution-box">
          <h4>ğŸ’¡ í•´ê²° ë°©ë²•</h4>
          <ul>
            <li><span class="tag">ì „ì²˜ë¦¬</span> <strong>ì´ìƒì¹˜ íƒì§€ í›„ ì œê±°:</strong> IQR, Z-score ê¸°ë°˜ í•„í„°ë§ â†’ ì •ë³´ ì†ì‹¤ ê°€ëŠ¥</li>
            <li><span class="tag">ì „ì²˜ë¦¬</span> <strong>ìœˆì €í™”(Winsorization):</strong> ê·¹ë‹¨ê°’ì„ íŠ¹ì • ë°±ë¶„ìœ„ìˆ˜ë¡œ ëŒ€ì²´</li>
            <li><span class="tag">ì•Œê³ ë¦¬ì¦˜</span> <strong>K-Medoids:</strong> í‰ê·  ëŒ€ì‹  ì‹¤ì œ ë°ì´í„° í¬ì¸íŠ¸(medoid)ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì‚¬ìš©</li>
            <li><span class="tag">ì•Œê³ ë¦¬ì¦˜</span> <strong>DBSCAN:</strong> ë°€ë„ ê¸°ë°˜ êµ°ì§‘í™”ë¡œ ë…¸ì´ì¦ˆë¥¼ ìë™ìœ¼ë¡œ ë¶„ë¦¬</li>
            <li><span class="tag">ì•Œê³ ë¦¬ì¦˜</span> <strong>Robust PCA:</strong> ì´ìƒì¹˜ì— ê°•ê±´í•œ ì°¨ì› ì¶•ì†Œ</li>
            <li><span class="tag">ì•™ìƒë¸”</span> <strong>ë¶€íŠ¸ìŠ¤íŠ¸ë© ì§‘ê³„:</strong> ì—¬ëŸ¬ ìƒ˜í”Œë¡œ í•™ìŠµí•˜ì—¬ ë…¸ì´ì¦ˆ ì˜í–¥ ë¶„ì‚°</li>
          </ul>
        </div>
      </div>

      <div class="interactive-area">
        <h4>ğŸ® ì§ì ‘ ì‹¤í—˜í•´ë³´ê¸°</h4>
        <div class="controls">
          <div class="control-group">
            <label>ë…¸ì´ì¦ˆ ë¹„ìœ¨: <span id="noise-val">0%</span></label>
            <input type="range" id="noise-slider" min="0" max="30" value="0" oninput="updateNoise()">
          </div>
          <button class="action" onclick="runNoiseDemo()">K-Means ì‹¤í–‰</button>
        </div>
        
        <div class="canvas-container">
          <canvas id="noise-canvas" width="450" height="280"></canvas>
        </div>
        
        <div class="result-box" id="noise-result">
          <h4>ğŸ“Š ê²°ê³¼</h4>
          <p>ë…¸ì´ì¦ˆë¥¼ ì¶”ê°€í•˜ê³  K-Meansë¥¼ ì‹¤í–‰í•´ë³´ì„¸ìš”.</p>
        </div>
      </div>
    </div>

    <!-- ==================== 4. ê°œë… ë“œë¦¬í”„íŠ¸ ==================== -->
    <div id="drift" class="demo-section">
      <div class="demo-header">
        <span class="demo-icon">â°</span>
        <div>
          <div class="demo-title">ê°œë… ë“œë¦¬í”„íŠ¸ (Concept Drift)</div>
          <div class="demo-subtitle">ì™œ ê³¼ê±°ì˜ ëª¨ë¸ì´ ë¯¸ë˜ì— ì‹¤íŒ¨í•˜ëŠ”ê°€?</div>
        </div>
      </div>

      <div class="theory-box">
        <h4>ğŸ“š ì´ë¡ ì  ë°°ê²½</h4>
        <p>
          <strong>ê°œë… ë“œë¦¬í”„íŠ¸</strong>ëŠ” ëª¨ë¸ì´ í•™ìŠµí•œ ì…ë ¥(X)ê³¼ ì¶œë ¥(Y) ê°„ì˜ ê´€ê³„ P(Y|X)ê°€ 
          ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ë³€í™”í•˜ëŠ” í˜„ìƒì…ë‹ˆë‹¤.
        </p>
        <p>ë“œë¦¬í”„íŠ¸ì˜ ìœ í˜•:</p>
        <ul>
          <li><strong>ì ì§„ì  ë“œë¦¬í”„íŠ¸ (Gradual):</strong> ì²œì²œíˆ ë³€í™” (ì˜ˆ: ì†Œë¹„ì ì·¨í–¥ ë³€í™”)</li>
          <li><strong>ê¸‰ê²©í•œ ë“œë¦¬í”„íŠ¸ (Sudden):</strong> ê°‘ì‘ìŠ¤ëŸ¬ìš´ ë³€í™” (ì˜ˆ: ì •ì±… ë³€ê²½, íŒ¬ë°ë¯¹)</li>
          <li><strong>ë°˜ë³µì  ë“œë¦¬í”„íŠ¸ (Recurring):</strong> ì£¼ê¸°ì  íŒ¨í„´ (ì˜ˆ: ê³„ì ˆì„±)</li>
          <li><strong>ì ì¦ì  ë“œë¦¬í”„íŠ¸ (Incremental):</strong> ì‘ì€ ë³€í™”ê°€ ëˆ„ì </li>
        </ul>
        <div class="formula">
          í•™ìŠµ ì‹œì : P_train(Y|X) â‰  ì ìš© ì‹œì : P_test(Y|X)
        </div>
        <p>
          ì´ë¡œ ì¸í•´ ê³¼ê±° ë°ì´í„°ë¡œ í•™ìŠµí•œ ëª¨ë¸ì˜ ì„±ëŠ¥ì´ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ì €í•˜ë˜ëŠ” 
          <strong>"ëª¨ë¸ ë¶€íŒ¨(Model Decay)"</strong> í˜„ìƒì´ ë°œìƒí•©ë‹ˆë‹¤.
        </p>
      </div>

      <button class="collapse-toggle" onclick="toggleCollapse('drift-details')">
        â–¼ ì‹¬í™” ë‚´ìš© í¼ì¹˜ê¸°
      </button>
      <div id="drift-details" class="collapsible">
        <div class="real-world-box">
          <h4>ğŸŒ ì‹¤ì œ ì‚¬ë¡€</h4>
          <p><strong>ìŠ¤íŒ¸ í•„í„°:</strong> ìŠ¤íŒ¨ë¨¸ë“¤ì´ í•„í„°ë¥¼ ìš°íšŒí•˜ê¸° ìœ„í•´ ì§€ì†ì ìœ¼ë¡œ ë©”ì‹œì§€ ë³€í˜•</p>
          <div class="example">
            2010ë…„ ìŠ¤íŒ¸ íŒ¨í„´ í•™ìŠµ â†’ 2024ë…„ì—ëŠ” ì™„ì „íˆ ë‹¤ë¥¸ ìŠ¤íŒ¸ ìˆ˜ë²• ë“±ì¥
          </div>
          <p><strong>ì£¼ê°€ ì˜ˆì¸¡:</strong> ì‹œì¥ ì¡°ê±´, ê·œì œ, ê²½ì œ ìƒí™©ì˜ ì§€ì†ì  ë³€í™”</p>
          <p><strong>ì¶”ì²œ ì‹œìŠ¤í…œ:</strong> ì‚¬ìš©ì ì·¨í–¥ ë³€í™”, ìƒˆë¡œìš´ íŠ¸ë Œë“œ ë“±ì¥</p>
          <p><strong>COVID-19 ì˜í–¥:</strong> íŒ¬ë°ë¯¹ìœ¼ë¡œ ì¸í•´ ê±°ì˜ ëª¨ë“  ì˜ˆì¸¡ ëª¨ë¸ì´ ê¸‰ê²©íˆ ë¬´ë ¥í™”ë¨</p>
        </div>

        <div class="solution-box">
          <h4>ğŸ’¡ í•´ê²° ë°©ë²•</h4>
          <ul>
            <li><span class="tag">ëª¨ë‹ˆí„°ë§</span> <strong>ì„±ëŠ¥ ì¶”ì :</strong> ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë¸ ì„±ëŠ¥ ì§€í‘œ ëª¨ë‹ˆí„°ë§</li>
            <li><span class="tag">íƒì§€</span> <strong>ë“œë¦¬í”„íŠ¸ íƒì§€:</strong> DDM, ADWIN, Page-Hinkley ë“± í†µê³„ì  ê²€ì •</li>
            <li><span class="tag">ì ì‘</span> <strong>ì£¼ê¸°ì  ì¬í•™ìŠµ:</strong> ìƒˆ ë°ì´í„°ë¡œ ëª¨ë¸ì„ ì •ê¸°ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸</li>
            <li><span class="tag">ì ì‘</span> <strong>ì˜¨ë¼ì¸ í•™ìŠµ:</strong> ìƒˆ ë°ì´í„°ê°€ ë“¤ì–´ì˜¬ ë•Œë§ˆë‹¤ ì ì§„ì  í•™ìŠµ</li>
            <li><span class="tag">ì ì‘</span> <strong>ì•™ìƒë¸” + ê°€ì¤‘ì¹˜:</strong> ìµœì‹  ë°ì´í„°ì— ë†’ì€ ê°€ì¤‘ì¹˜ ë¶€ì—¬</li>
            <li><span class="tag">ì„¤ê³„</span> <strong>ì‹œê°„ ìœˆë„ìš°:</strong> ìµœê·¼ Nì¼/Nê°œì›” ë°ì´í„°ë§Œ ì‚¬ìš©í•˜ì—¬ í•™ìŠµ</li>
          </ul>
        </div>
      </div>

      <div class="interactive-area">
        <h4>ğŸ® ì§ì ‘ ì‹¤í—˜í•´ë³´ê¸°</h4>
        <div class="controls">
          <div class="control-group">
            <label>ì‹œê°„ ê²½ê³¼: <span id="time-val">T=0 (í•™ìŠµ ì‹œì )</span></label>
            <input type="range" id="time-slider" min="0" max="100" value="0" oninput="updateTime()">
          </div>
          <button class="action" onclick="runDriftDemo()">ì‹œë®¬ë ˆì´ì…˜</button>
        </div>
        
        <div class="canvas-container">
          <canvas id="drift-canvas" width="450" height="280"></canvas>
        </div>
        
        <div class="result-box" id="drift-result">
          <h4>ğŸ“Š ê²°ê³¼</h4>
          <p>ì‹œê°„ì„ ê²½ê³¼ì‹œí‚¤ë©° ëª¨ë¸ ì„±ëŠ¥ ë³€í™”ë¥¼ ê´€ì°°í•˜ì„¸ìš”.</p>
        </div>
      </div>
    </div>

    <!-- ==================== 5. Kê°’ ë¯¼ê°ë„ ==================== -->
    <div id="k-sensitivity" class="demo-section">
      <div class="demo-header">
        <span class="demo-icon">ğŸ›ï¸</span>
        <div>
          <div class="demo-title">í•˜ì´í¼íŒŒë¼ë¯¸í„° ë¯¼ê°ë„</div>
          <div class="demo-subtitle">Kê°’ í•˜ë‚˜ê°€ ê²°ê³¼ë¥¼ ì–´ë–»ê²Œ ì™„ì „íˆ ë°”ê¾¸ëŠ”ê°€?</div>
        </div>
      </div>

      <div class="theory-box">
        <h4>ğŸ“š ì´ë¡ ì  ë°°ê²½</h4>
        <p>
          <strong>í•˜ì´í¼íŒŒë¼ë¯¸í„°</strong>ëŠ” í•™ìŠµ ì „ì— ì‚¬ëŒì´ ì„¤ì •í•´ì•¼ í•˜ëŠ” ê°’ìœ¼ë¡œ, ëª¨ë¸ì˜ ì„±ëŠ¥ê³¼ ë™ì‘ ë°©ì‹ì— 
          ê²°ì •ì ì¸ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤. ë°ì´í„°ë¡œë¶€í„° í•™ìŠµë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ìµœì ê°’ì„ ì°¾ëŠ” ê²ƒì´ ë„ì „ì…ë‹ˆë‹¤.
        </p>
        <p>K-Meansì˜ K(êµ°ì§‘ ìˆ˜)ê°€ ëŒ€í‘œì ì¸ ì˜ˆì…ë‹ˆë‹¤:</p>
        <ul>
          <li><strong>Kê°€ ë„ˆë¬´ ì‘ìœ¼ë©´:</strong> ìì—°ìŠ¤ëŸ¬ìš´ ê·¸ë£¹ë“¤ì´ ê°•ì œë¡œ í•©ì³ì§ (ê³¼ì†Œì í•©)</li>
          <li><strong>Kê°€ ë„ˆë¬´ í¬ë©´:</strong> í•˜ë‚˜ì˜ ê·¸ë£¹ì´ ì¸ìœ„ì ìœ¼ë¡œ ë¶„í• ë¨ (ê³¼ì í•©)</li>
          <li><strong>ìµœì  K:</strong> ë°ì´í„°ì˜ ì‹¤ì œ êµ¬ì¡°ë¥¼ ë°˜ì˜, but ì •ë‹µì´ ì—†ëŠ” ê²½ìš°ê°€ ë§ìŒ</li>
        </ul>
        <div class="formula">
          K-Means ëª©ì í•¨ìˆ˜: J = Î£áµ¢ Î£â±¼ ||xâ±¼ - Î¼áµ¢||Â²   (Kê°€ í¬ë©´ í•­ìƒ J ê°ì†Œ)
        </div>
        <p>
          Kë¥¼ ëŠ˜ë¦¬ë©´ ëª©ì í•¨ìˆ˜ëŠ” í•­ìƒ ê°ì†Œí•˜ë¯€ë¡œ, ì´ê²ƒë§Œìœ¼ë¡œëŠ” ìµœì  Kë¥¼ ê²°ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
        </p>
      </div>

      <button class="collapse-toggle" onclick="toggleCollapse('k-details')">
        â–¼ ì‹¬í™” ë‚´ìš© í¼ì¹˜ê¸°
      </button>
      <div id="k-details" class="collapsible">
        <div class="real-world-box">
          <h4>ğŸŒ ì‹¤ì œ ì‚¬ë¡€</h4>
          <p><strong>ê³ ê° ì„¸ë¶„í™”:</strong> ë§ˆì¼€íŒ…íŒ€ì€ 3ê°œ ì„¸ê·¸ë¨¼íŠ¸, ì˜ì—…íŒ€ì€ 7ê°œ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ì›í•¨ â†’ "ì •ë‹µ"ì´ ì—†ìŒ</p>
          <div class="example">
            ê°™ì€ ê³ ê° ë°ì´í„°ë¡œ K=3 â†’ "ê³ ê°€ì¹˜/ì¤‘ê°„/ì €ê°€ì¹˜" ë˜ëŠ” K=7 â†’ ë” ì„¸ë¶„í™”ëœ í˜ë¥´ì†Œë‚˜
          </div>
          <p><strong>ì´ë¯¸ì§€ ì••ì¶•:</strong> K-Meansë¡œ ìƒ‰ìƒì„ Kê°œë¡œ ì¤„ì¼ ë•Œ, Kì— ë”°ë¼ í’ˆì§ˆ/ìš©ëŸ‰ íŠ¸ë ˆì´ë“œì˜¤í”„</p>
          <p><strong>ë¬¸ì„œ êµ°ì§‘í™”:</strong> ë‰´ìŠ¤ ê¸°ì‚¬ë¥¼ ëª‡ ê°œ ì£¼ì œë¡œ ë¬¶ì„ ê²ƒì¸ê°€? 5ê°œ? 50ê°œ? 500ê°œ?</p>
        </div>

        <div class="solution-box">
          <h4>ğŸ’¡ í•´ê²° ë°©ë²•</h4>
          <ul>
            <li><span class="tag">íœ´ë¦¬ìŠ¤í‹±</span> <strong>Elbow Method:</strong> Kì— ë”°ë¥¸ SSE ê·¸ë˜í”„ì—ì„œ "íŒ”ê¿ˆì¹˜" ì  ì°¾ê¸°</li>
            <li><span class="tag">í†µê³„ì </span> <strong>Silhouette Score:</strong> êµ°ì§‘ ë‚´ ì‘ì§‘ë„ì™€ êµ°ì§‘ ê°„ ë¶„ë¦¬ë„ì˜ ì¡°í™”</li>
            <li><span class="tag">í†µê³„ì </span> <strong>Gap Statistic:</strong> ì‹¤ì œ ë°ì´í„°ì™€ ê· ì¼ ë¶„í¬ ë°ì´í„° ë¹„êµ</li>
            <li><span class="tag">ì •ë³´ ì´ë¡ </span> <strong>BIC/AIC:</strong> ëª¨ë¸ ë³µì¡ë„ì— íŒ¨ë„í‹°ë¥¼ ë¶€ì—¬</li>
            <li><span class="tag">ë„ë©”ì¸</span> <strong>ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­:</strong> ì‹¤ìš©ì ìœ¼ë¡œ ê´€ë¦¬ ê°€ëŠ¥í•œ êµ°ì§‘ ìˆ˜ ê³ ë ¤</li>
            <li><span class="tag">ìë™í™”</span> <strong>X-Means, G-Means:</strong> Kë¥¼ ìë™ìœ¼ë¡œ ê²°ì •í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜</li>
          </ul>
        </div>
      </div>

      <div class="interactive-area">
        <h4>ğŸ® ì§ì ‘ ì‹¤í—˜í•´ë³´ê¸°</h4>
        <div class="controls">
          <div class="control-group">
            <label>K ê°’: <span id="k-val">3</span></label>
            <input type="range" id="k-slider" min="2" max="8" value="3" oninput="updateK()">
          </div>
          <button class="action" onclick="runKDemo()">êµ°ì§‘í™” ì‹¤í–‰</button>
        </div>
        
        <div class="canvas-container">
          <canvas id="k-canvas" width="450" height="280"></canvas>
        </div>
        
        <div class="result-box" id="k-result">
          <h4>ğŸ“Š ê²°ê³¼</h4>
          <p>Kê°’ì„ ë³€ê²½í•˜ë©° êµ°ì§‘í™” ê²°ê³¼ ë³€í™”ë¥¼ ê´€ì°°í•˜ì„¸ìš”.</p>
        </div>
      </div>
    </div>

  </div>

  <script>
    // Tab navigation
    function showDemo(id) {
      document.querySelectorAll('.demo-section').forEach(s => s.classList.remove('active'));
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      event.target.classList.add('active');
    }

    // Collapse toggle
    function toggleCollapse(id) {
      const el = document.getElementById(id);
      const btn = el.previousElementSibling;
      el.classList.toggle('open');
      btn.textContent = el.classList.contains('open') ? 'â–² ì‹¬í™” ë‚´ìš© ì ‘ê¸°' : 'â–¼ ì‹¬í™” ë‚´ìš© í¼ì¹˜ê¸°';
    }

    // Utility functions
    function randomGaussian(mean, std) {
      let u = 0, v = 0;
      while (u === 0) u = Math.random();
      while (v === 0) v = Math.random();
      return mean + std * Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);
    }

    // 1. Class Imbalance Demo
    function updateImbalance() {
      document.getElementById('imb-ratio-val').textContent = document.getElementById('imb-ratio').value + '%';
    }

    function runImbalanceDemo() {
      const canvas = document.getElementById('imbalance-canvas');
      const ctx = canvas.getContext('2d');
      const ratio = parseInt(document.getElementById('imb-ratio').value) / 100;
      
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      const totalPoints = 200;
      const minorityCount = Math.max(1, Math.floor(totalPoints * ratio));
      const majorityCount = totalPoints - minorityCount;
      
      const majority = [];
      const minority = [];
      
      // ë‹¤ìˆ˜ í´ë˜ìŠ¤ (ì •ìƒ) - ì™¼ìª½ ì˜ì—­
      for (let i = 0; i < majorityCount; i++) {
        majority.push({
          x: randomGaussian(150, 65),
          y: randomGaussian(140, 55),
          label: 0
        });
      }
      
      // ì†Œìˆ˜ í´ë˜ìŠ¤ (ì‚¬ê¸°) - ì˜¤ë¥¸ìª½ ì˜ì—­ (ì¼ë¶€ ê²¹ì¹¨)
      for (let i = 0; i < minorityCount; i++) {
        minority.push({
          x: randomGaussian(320, 50),
          y: randomGaussian(160, 50),
          label: 1
        });
      }
      
      // ê°„ë‹¨í•œ ê²°ì • ê²½ê³„ (x = 240)
      const boundary = 240;
      
      // ê²°ì • ê²½ê³„ ê·¸ë¦¬ê¸°
      ctx.strokeStyle = '#fbbf24';
      ctx.lineWidth = 2;
      ctx.setLineDash([8, 4]);
      ctx.beginPath();
      ctx.moveTo(boundary, 0);
      ctx.lineTo(boundary, 280);
      ctx.stroke();
      ctx.setLineDash([]);
      
      // ë¶„ë¥˜ ê²°ê³¼ ê³„ì‚°
      let TP = 0, FP = 0, TN = 0, FN = 0;
      
      // ë‹¤ìˆ˜ í´ë˜ìŠ¤ ê·¸ë¦¬ê¸° ë° ë¶„ë¥˜
      majority.forEach(p => {
        const predicted = p.x > boundary ? 1 : 0; // ì˜¤ë¥¸ìª½ì´ë©´ ì‚¬ê¸°ë¡œ ì˜ˆì¸¡
        if (predicted === 0) TN++; else FP++;
        
        ctx.beginPath();
        ctx.arc(Math.max(5, Math.min(445, p.x)), Math.max(5, Math.min(275, p.y)), 5, 0, Math.PI * 2);
        ctx.fillStyle = predicted === 0 ? '#60a5fa' : '#60a5fa';
        ctx.fill();
        // ì˜¤ë¶„ë¥˜ í‘œì‹œ
        if (predicted === 1) {
          ctx.strokeStyle = '#fbbf24';
          ctx.lineWidth = 2;
          ctx.stroke();
        }
      });
      
      // ì†Œìˆ˜ í´ë˜ìŠ¤ ê·¸ë¦¬ê¸° ë° ë¶„ë¥˜
      minority.forEach(p => {
        const predicted = p.x > boundary ? 1 : 0;
        if (predicted === 1) TP++; else FN++;
        
        ctx.beginPath();
        ctx.arc(Math.max(5, Math.min(445, p.x)), Math.max(5, Math.min(275, p.y)), 6, 0, Math.PI * 2);
        ctx.fillStyle = '#f87171';
        ctx.fill();
        // ì˜¤ë¶„ë¥˜ í‘œì‹œ (ë†“ì¹œ ì‚¬ê¸°)
        if (predicted === 0) {
          ctx.strokeStyle = '#000';
          ctx.lineWidth = 3;
          ctx.stroke();
        }
      });
      
      // ì§€í‘œ ê³„ì‚°
      const accuracy = ((TP + TN) / totalPoints * 100).toFixed(1);
      const precision = (TP + FP) > 0 ? (TP / (TP + FP) * 100).toFixed(1) : 'N/A';
      const recall = (TP + FN) > 0 ? (TP / (TP + FN) * 100).toFixed(1) : 'N/A';
      const f1 = (precision !== 'N/A' && recall !== 'N/A' && (parseFloat(precision) + parseFloat(recall)) > 0) 
        ? (2 * parseFloat(precision) * parseFloat(recall) / (parseFloat(precision) + parseFloat(recall))).toFixed(1) 
        : 'N/A';
      
      // ë²”ë¡€
      ctx.font = '11px Arial';
      ctx.fillStyle = '#60a5fa';
      ctx.fillText(`â— ë‹¤ìˆ˜ í´ë˜ìŠ¤ (ì •ìƒ): ${majorityCount}ê°œ`, 10, 18);
      ctx.fillStyle = '#f87171';
      ctx.fillText(`â— ì†Œìˆ˜ í´ë˜ìŠ¤ (ì‚¬ê¸°): ${minorityCount}ê°œ`, 10, 34);
      ctx.fillStyle = '#fbbf24';
      ctx.fillText(`--- ê²°ì • ê²½ê³„ (x=${boundary})`, 10, 50);
      ctx.fillStyle = '#9ca3af';
      ctx.fillText(`ê²€ì€ í…Œë‘ë¦¬ = ë†“ì¹œ ì‚¬ê¸° (FN: ${FN})`, 280, 18);
      ctx.fillText(`ë…¸ë€ í…Œë‘ë¦¬ = ì˜¤íƒ (FP: ${FP})`, 280, 34);
      
      const resultDiv = document.getElementById('imbalance-result');
      resultDiv.innerHTML = `
        <h4>ğŸ“Š ë¶„ë¥˜ê¸° ì„±ëŠ¥ ê²°ê³¼</h4>
        <p>
          <span class="metric">TP: ${TP}</span>
          <span class="metric">FP: ${FP}</span>
          <span class="metric">TN: ${TN}</span>
          <span class="metric">FN: ${FN}</span>
        </p>
        <p>
          <span class="metric ${parseFloat(accuracy) > 90 ? 'warn' : 'good'}">ì •í™•ë„: ${accuracy}%</span>
          <span class="metric ${precision === 'N/A' || parseFloat(precision) < 50 ? 'bad' : parseFloat(precision) < 80 ? 'warn' : 'good'}">ì •ë°€ë„: ${precision}%</span>
          <span class="metric ${recall === 'N/A' || parseFloat(recall) < 50 ? 'bad' : parseFloat(recall) < 80 ? 'warn' : 'good'}">ì¬í˜„ìœ¨: ${recall}%</span>
          <span class="metric ${f1 === 'N/A' || parseFloat(f1) < 50 ? 'bad' : parseFloat(f1) < 70 ? 'warn' : 'good'}">F1-Score: ${f1}%</span>
        </p>
        <div class="insight">
          ğŸ’¡ <strong>í•µì‹¬ í†µì°°:</strong> 
          ${ratio < 0.1 ? `<strong>ê·¹ì‹¬í•œ ë¶ˆê· í˜•(${(ratio*100).toFixed(0)}%)</strong>ì—ì„œ ì •í™•ë„ ${accuracy}%ëŠ” ë†’ì•„ ë³´ì´ì§€ë§Œ, ì‹¤ì œë¡œ ì¤‘ìš”í•œ ì¬í˜„ìœ¨ì€ ${recall}%ì…ë‹ˆë‹¤. ` : ''}
          ${FN > 0 ? `<strong>${FN}ê±´ì˜ ì‚¬ê¸°ë¥¼ ë†“ì³¤ìŠµë‹ˆë‹¤</strong>(ê²€ì€ í…Œë‘ë¦¬). ì‹¤ì œ ê¸ˆìœµì—ì„œ ì´ëŠ” ìˆ˜ì–µ ì›ì˜ ì†ì‹¤ì„ ì˜ë¯¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ` : ''}
          ${FP > 0 ? `${FP}ê±´ì˜ ì˜¤íƒ(ì •ìƒì„ ì‚¬ê¸°ë¡œ íŒë‹¨)ì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ` : ''}
          ${ratio >= 0.3 ? `ë¶ˆê· í˜•ì´ ì ì„ìˆ˜ë¡(${(ratio*100).toFixed(0)}%) ë¶„ë¥˜ê¸°ê°€ ì†Œìˆ˜ í´ë˜ìŠ¤ë¥¼ ë” ì˜ í•™ìŠµí•©ë‹ˆë‹¤.` : ''}
          <br><br>
          <strong>ë¹„ì¦ˆë‹ˆìŠ¤ ê´€ì :</strong> ì‚¬ê¸° íƒì§€ì—ì„œëŠ” <strong>ì¬í˜„ìœ¨(ë†“ì¹˜ì§€ ì•Šê¸°)</strong>ì´ ì¤‘ìš”í•˜ê³ , ìŠ¤íŒ¸ í•„í„°ì—ì„œëŠ” <strong>ì •ë°€ë„(ì˜¤íƒ ì¤„ì´ê¸°)</strong>ê°€ ë” ì¤‘ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </div>
      `;
    }

    // 2. Curse of Dimensionality Demo
    function updateDimension() {
      document.getElementById('dim-val').textContent = document.getElementById('dim-slider').value;
    }

    function runCurseDemo() {
      const canvas = document.getElementById('curse-canvas');
      const ctx = canvas.getContext('2d');
      const dim = parseInt(document.getElementById('dim-slider').value);
      const nPoints = parseInt(document.getElementById('n-points').value);
      
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      const points = [];
      for (let i = 0; i < nPoints; i++) {
        const point = [];
        for (let d = 0; d < dim; d++) {
          point.push(Math.random());
        }
        points.push(point);
      }
      
      const distances = [];
      for (let i = 1; i < points.length; i++) {
        let dist = 0;
        for (let d = 0; d < dim; d++) {
          dist += (points[0][d] - points[i][d]) ** 2;
        }
        distances.push(Math.sqrt(dist));
      }
      
      const minDist = Math.min(...distances);
      const maxDist = Math.max(...distances);
      const ratio = maxDist / minDist;
      const avgDist = distances.reduce((a, b) => a + b) / distances.length;
      const stdDist = Math.sqrt(distances.map(d => (d - avgDist) ** 2).reduce((a, b) => a + b) / distances.length);
      const cv = (stdDist / avgDist * 100).toFixed(1);
      
      const bins = 20;
      const binWidth = (maxDist - minDist) / bins || 1;
      const histogram = new Array(bins).fill(0);
      distances.forEach(d => {
        const bin = Math.min(Math.floor((d - minDist) / binWidth), bins - 1);
        histogram[bin]++;
      });
      
      const maxCount = Math.max(...histogram);
      const barWidth = (canvas.width - 80) / bins;
      
      ctx.fillStyle = '#3b82f6';
      histogram.forEach((count, i) => {
        const barHeight = (count / maxCount) * 180;
        ctx.fillRect(50 + i * barWidth, 230 - barHeight, barWidth - 2, barHeight);
      });
      
      ctx.strokeStyle = '#6b7280';
      ctx.beginPath();
      ctx.moveTo(50, 230);
      ctx.lineTo(canvas.width - 30, 230);
      ctx.moveTo(50, 40);
      ctx.lineTo(50, 230);
      ctx.stroke();
      
      ctx.font = '11px Arial';
      ctx.fillStyle = '#9ca3af';
      ctx.fillText('ê±°ë¦¬ ë¶„í¬', canvas.width / 2 - 20, 260);
      ctx.fillText('ë¹ˆë„', 15, 140);
      ctx.fillText(minDist.toFixed(2), 45, 248);
      ctx.fillText(maxDist.toFixed(2), canvas.width - 60, 248);
      
      ctx.font = '12px Arial';
      ctx.fillStyle = '#fbbf24';
      ctx.fillText(`${dim}ì°¨ì› ê³µê°„, ${nPoints}ê°œ í¬ì¸íŠ¸`, 60, 25);
      
      const resultDiv = document.getElementById('curse-result');
      const isProblematic = ratio < 2 || cv < 15;
      resultDiv.innerHTML = `
        <h4>ğŸ“Š ê±°ë¦¬ ë¶„í¬ ë¶„ì„ ê²°ê³¼</h4>
        <p>
          <span class="metric">ìµœì†Œ ê±°ë¦¬: ${minDist.toFixed(3)}</span>
          <span class="metric">ìµœëŒ€ ê±°ë¦¬: ${maxDist.toFixed(3)}</span>
          <span class="metric ${ratio < 1.5 ? 'bad' : ratio < 2.5 ? 'warn' : 'good'}">ìµœëŒ€/ìµœì†Œ ë¹„ìœ¨: ${ratio.toFixed(2)}</span>
          <span class="metric ${cv < 10 ? 'bad' : cv < 20 ? 'warn' : 'good'}">ë³€ë™ê³„ìˆ˜(CV): ${cv}%</span>
        </p>
        <div class="insight">
          ğŸ’¡ <strong>í•µì‹¬ í†µì°°:</strong> 
          ${dim <= 3 ? `ì €ì°¨ì›(${dim}D)ì—ì„œëŠ” ê±°ë¦¬ ë¶„í¬ê°€ ë„“ê³  ë³€ë™ì„±ì´ ì»¤ì„œ "ê°€ì¥ ê°€ê¹Œìš´ ì´ì›ƒ"ê³¼ "ê°€ì¥ ë¨¼ ì´ì›ƒ"ì´ ëª…í™•íˆ êµ¬ë¶„ë©ë‹ˆë‹¤. K-NN, K-Meansê°€ ì˜ ì‘ë™í•©ë‹ˆë‹¤.` : ''}
          ${dim > 3 && dim <= 15 ? `ì¤‘ê°„ ì°¨ì›(${dim}D)ì—ì„œ ê±°ë¦¬ ì§‘ì¤‘ í˜„ìƒì´ ì‹œì‘ë©ë‹ˆë‹¤. ë³€ë™ê³„ìˆ˜(${cv}%)ê°€ ë‚®ì•„ì§€ë©´ì„œ ê±°ë¦¬ ê¸°ë°˜ íŒë‹¨ì˜ ì‹ ë¢°ë„ê°€ ë–¨ì–´ì§‘ë‹ˆë‹¤.` : ''}
          ${dim > 15 && dim <= 50 ? `ê³ ì°¨ì›(${dim}D)ì—ì„œëŠ” ëª¨ë“  ì ì´ ë¹„ìŠ·í•œ ê±°ë¦¬ì— ìˆìŠµë‹ˆë‹¤. ìµœëŒ€/ìµœì†Œ ë¹„ìœ¨ì´ ${ratio.toFixed(2)}ë¡œ, "ê°€ì¥ ê°€ê¹Œìš´ ì´ì›ƒ"ì´ë¼ëŠ” ê°œë…ì´ ë¬´ì˜ë¯¸í•´ì§‘ë‹ˆë‹¤.` : ''}
          ${dim > 50 ? `ë§¤ìš° ê³ ì°¨ì›(${dim}D)ì…ë‹ˆë‹¤. ê±°ë¦¬ ë¹„ìœ¨ ${ratio.toFixed(2)}ëŠ” ì‚¬ì‹¤ìƒ ëª¨ë“  ì ì´ ë™ì¼í•œ ê±°ë¦¬ì— ìˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì°¨ì› ì¶•ì†Œ(PCA, t-SNE) ì—†ì´ëŠ” ê±°ë¦¬ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.` : ''}
        </div>
      `;
    }

    // 3. Noise Demo
    function updateNoise() {
      document.getElementById('noise-val').textContent = document.getElementById('noise-slider').value + '%';
    }

    function runNoiseDemo() {
      const canvas = document.getElementById('noise-canvas');
      const ctx = canvas.getContext('2d');
      const noiseRatio = parseInt(document.getElementById('noise-slider').value) / 100;
      
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      const clusters = [
        { cx: 90, cy: 80, color: '#3b82f6' },
        { cx: 360, cy: 90, color: '#10b981' },
        { cx: 220, cy: 210, color: '#f59e0b' }
      ];
      
      const pointsPerCluster = 30;
      const points = [];
      
      clusters.forEach((c, ci) => {
        for (let i = 0; i < pointsPerCluster; i++) {
          points.push({
            x: randomGaussian(c.cx, 28),
            y: randomGaussian(c.cy, 25),
            cluster: ci,
            isNoise: false
          });
        }
      });
      
      const noiseCount = Math.floor(points.length * noiseRatio);
      for (let i = 0; i < noiseCount; i++) {
        points.push({
          x: Math.random() * 420 + 15,
          y: Math.random() * 250 + 15,
          cluster: -1,
          isNoise: true
        });
      }
      
      let centroids = clusters.map(c => ({ x: c.cx, y: c.cy }));
      
      for (let iter = 0; iter < 10; iter++) {
        points.forEach(p => {
          let minDist = Infinity;
          centroids.forEach((c, i) => {
            const dist = Math.sqrt((p.x - c.x) ** 2 + (p.y - c.y) ** 2);
            if (dist < minDist) {
              minDist = dist;
              p.assigned = i;
            }
          });
        });
        
        centroids = centroids.map((_, i) => {
          const assigned = points.filter(p => p.assigned === i);
          if (assigned.length === 0) return centroids[i];
          return {
            x: assigned.reduce((s, p) => s + p.x, 0) / assigned.length,
            y: assigned.reduce((s, p) => s + p.y, 0) / assigned.length
          };
        });
      }
      
      const colors = ['#3b82f6', '#10b981', '#f59e0b'];
      points.forEach(p => {
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.isNoise ? 4 : 6, 0, Math.PI * 2);
        ctx.fillStyle = p.isNoise ? '#ef4444' : colors[p.assigned];
        ctx.fill();
        if (p.isNoise) {
          ctx.strokeStyle = '#fff';
          ctx.lineWidth = 1;
          ctx.stroke();
        }
      });
      
      centroids.forEach((c, i) => {
        ctx.beginPath();
        ctx.arc(c.x, c.y, 12, 0, Math.PI * 2);
        ctx.fillStyle = colors[i];
        ctx.fill();
        ctx.strokeStyle = '#fff';
        ctx.lineWidth = 3;
        ctx.stroke();
        ctx.strokeStyle = '#fff';
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(c.x - 5, c.y - 5);
        ctx.lineTo(c.x + 5, c.y + 5);
        ctx.moveTo(c.x + 5, c.y - 5);
        ctx.lineTo(c.x - 5, c.y + 5);
        ctx.stroke();
      });
      
      ctx.setLineDash([3, 3]);
      clusters.forEach((c, i) => {
        ctx.beginPath();
        ctx.arc(c.cx, c.cy, 10, 0, Math.PI * 2);
        ctx.strokeStyle = colors[i];
        ctx.lineWidth = 2;
        ctx.stroke();
      });
      ctx.setLineDash([]);
      
      const shifts = centroids.map((c, i) => 
        Math.sqrt((c.x - clusters[i].cx) ** 2 + (c.y - clusters[i].cy) ** 2)
      );
      const avgShift = (shifts.reduce((a, b) => a + b) / shifts.length).toFixed(1);
      const maxShift = Math.max(...shifts).toFixed(1);
      
      ctx.font = '11px Arial';
      ctx.fillStyle = '#ef4444';
      ctx.fillText(`â— ë…¸ì´ì¦ˆ: ${noiseCount}ê°œ`, 10, 18);
      ctx.fillStyle = '#9ca3af';
      ctx.fillText('âœ• ê³„ì‚°ëœ ì¤‘ì‹¬  â—‹ ì‹¤ì œ ì¤‘ì‹¬', 10, 270);
      
      const resultDiv = document.getElementById('noise-result');
      resultDiv.innerHTML = `
        <h4>ğŸ“Š K-Means êµ°ì§‘í™” ê²°ê³¼</h4>
        <p>
          <span class="metric">ë…¸ì´ì¦ˆ í¬ì¸íŠ¸: ${noiseCount}ê°œ (${(noiseRatio * 100).toFixed(0)}%)</span>
          <span class="metric ${avgShift > 25 ? 'bad' : avgShift > 12 ? 'warn' : 'good'}">í‰ê·  ì¤‘ì‹¬ ì´ë™: ${avgShift}px</span>
          <span class="metric ${maxShift > 35 ? 'bad' : maxShift > 18 ? 'warn' : 'good'}">ìµœëŒ€ ì¤‘ì‹¬ ì´ë™: ${maxShift}px</span>
        </p>
        <div class="insight">
          ğŸ’¡ <strong>í•µì‹¬ í†µì°°:</strong> 
          ${noiseRatio === 0 ? 'ë…¸ì´ì¦ˆê°€ ì—†ì„ ë•Œ K-Means ì¤‘ì‹¬ì (âœ•)ì´ ì‹¤ì œ êµ°ì§‘ ì¤‘ì‹¬(â—‹)ê³¼ ê±°ì˜ ì¼ì¹˜í•©ë‹ˆë‹¤.' : ''}
          ${noiseRatio > 0 && noiseRatio <= 0.1 ? `${(noiseRatio * 100).toFixed(0)}%ì˜ ë…¸ì´ì¦ˆê°€ ì¤‘ì‹¬ì ì„ í‰ê·  ${avgShift}px ì´ë™ì‹œì¼°ìŠµë‹ˆë‹¤. K-MeansëŠ” ëª¨ë“  ì ì„ í‰ê·  ë‚´ê¸° ë•Œë¬¸ì— ì†Œìˆ˜ì˜ ì´ìƒì¹˜ì—ë„ ë¯¼ê°í•©ë‹ˆë‹¤.` : ''}
          ${noiseRatio > 0.1 && noiseRatio <= 0.2 ? `${(noiseRatio * 100).toFixed(0)}%ì˜ ë…¸ì´ì¦ˆë¡œ ì¤‘ì‹¬ì ì´ í¬ê²Œ ì™œê³¡ë˜ì—ˆìŠµë‹ˆë‹¤(${avgShift}px ì´ë™). ì‹¤ì œ ë°ì´í„°ì—ì„œ ì´ëŸ° ìˆ˜ì¤€ì˜ ë…¸ì´ì¦ˆëŠ” í”í•©ë‹ˆë‹¤.` : ''}
          ${noiseRatio > 0.2 ? `${(noiseRatio * 100).toFixed(0)}%ì˜ ë…¸ì´ì¦ˆëŠ” K-Meansë¥¼ ì™„ì „íˆ ë¬´ë ¥í™”ì‹œì¼°ìŠµë‹ˆë‹¤. ì´ ê²½ìš° DBSCAN(ë…¸ì´ì¦ˆ ìë™ ë¶„ë¦¬) ë˜ëŠ” K-Medoids(ì¤‘ì•™ê°’ ê¸°ë°˜)ê°€ í•„ìš”í•©ë‹ˆë‹¤.` : ''}
        </div>
      `;
    }

    // 4. Concept Drift Demo
    function updateTime() {
      const t = document.getElementById('time-slider').value;
      let label = '';
      if (t == 0) label = '(í•™ìŠµ ì‹œì )';
      else if (t < 30) label = '(ë¯¸ë¯¸í•œ ë³€í™”)';
      else if (t < 60) label = '(ì ì§„ì  ë“œë¦¬í”„íŠ¸)';
      else if (t < 80) label = '(ì‹¬ê°í•œ ë“œë¦¬í”„íŠ¸)';
      else label = '(ëª¨ë¸ ë¬´ë ¥í™”)';
      document.getElementById('time-val').textContent = `T=${t} ${label}`;
    }

    function runDriftDemo() {
      const canvas = document.getElementById('drift-canvas');
      const ctx = canvas.getContext('2d');
      const time = parseInt(document.getElementById('time-slider').value);
      
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      // Decision boundary (trained at T=0)
      ctx.strokeStyle = '#ef4444';
      ctx.lineWidth = 3;
      ctx.setLineDash([10, 5]);
      ctx.beginPath();
      ctx.moveTo(0, 190);
      ctx.lineTo(450, 90);
      ctx.stroke();
      ctx.setLineDash([]);
      
      const shift = time * 0.9;
      
      const classA = [];
      for (let i = 0; i < 40; i++) {
        classA.push({
          x: randomGaussian(130, 45),
          y: randomGaussian(240 - shift, 30)
        });
      }
      
      const classB = [];
      for (let i = 0; i < 40; i++) {
        classB.push({
          x: randomGaussian(320, 45),
          y: randomGaussian(70 + shift * 0.5, 30)
        });
      }
      
      ctx.fillStyle = '#3b82f6';
      classA.forEach(p => {
        ctx.beginPath();
        ctx.arc(Math.max(5, Math.min(445, p.x)), Math.max(5, Math.min(275, p.y)), 6, 0, Math.PI * 2);
        ctx.fill();
      });
      
      ctx.fillStyle = '#10b981';
      classB.forEach(p => {
        ctx.beginPath();
        ctx.arc(Math.max(5, Math.min(445, p.x)), Math.max(5, Math.min(275, p.y)), 6, 0, Math.PI * 2);
        ctx.fill();
      });
      
      const boundaryY = (x) => 190 - (x / 450) * 100;
      let correct = 0;
      classA.forEach(p => { if (p.y > boundaryY(p.x)) correct++; });
      classB.forEach(p => { if (p.y < boundaryY(p.x)) correct++; });
      const accuracy = (correct / 80 * 100).toFixed(1);
      
      ctx.font = '11px Arial';
      ctx.fillStyle = '#ef4444';
      ctx.fillText('--- ê²°ì • ê²½ê³„ (T=0ì—ì„œ í•™ìŠµ)', 10, 18);
      ctx.fillStyle = '#3b82f6';
      ctx.fillText('â— í´ë˜ìŠ¤ A', 10, 36);
      ctx.fillStyle = '#10b981';
      ctx.fillText('â— í´ë˜ìŠ¤ B', 80, 36);
      
      const resultDiv = document.getElementById('drift-result');
      resultDiv.innerHTML = `
        <h4>ğŸ“Š ì‹œê°„ì— ë”°ë¥¸ ëª¨ë¸ ì„±ëŠ¥ ë³€í™”</h4>
        <p>
          <span class="metric">ê²½ê³¼ ì‹œê°„: T=${time}</span>
          <span class="metric ${accuracy > 85 ? 'good' : accuracy > 65 ? 'warn' : 'bad'}">í˜„ì¬ ì •í™•ë„: ${accuracy}%</span>
          <span class="metric">ì´ˆê¸° ì •í™•ë„: ~95%</span>
          <span class="metric ${accuracy < 70 ? 'bad' : 'warn'}">ì„±ëŠ¥ ì €í•˜: ${(95 - parseFloat(accuracy)).toFixed(1)}%p</span>
        </p>
        <div class="insight">
          ğŸ’¡ <strong>í•µì‹¬ í†µì°°:</strong> 
          ${time === 0 ? 'T=0ì—ì„œ í•™ìŠµí•œ ê²°ì • ê²½ê³„ê°€ í˜„ì¬ ë°ì´í„°ë¥¼ ì˜ ë¶„ë¦¬í•©ë‹ˆë‹¤. ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ì´ ì‹œì ì˜ ì„±ëŠ¥ì´ ìµœê³ ì…ë‹ˆë‹¤.' : ''}
          ${time > 0 && time <= 30 ? `ì‹œê°„ì´ ${time}ë§Œí¼ ì§€ë‚˜ë©´ì„œ ë°ì´í„° ë¶„í¬ê°€ ë¯¸ì„¸í•˜ê²Œ ë³€í–ˆìŠµë‹ˆë‹¤. ì•„ì§ ëª¨ë¸ì´ ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ ëª¨ë‹ˆí„°ë§ì´ í•„ìš”í•©ë‹ˆë‹¤.` : ''}
          ${time > 30 && time <= 60 ? `ì ì§„ì  ë“œë¦¬í”„íŠ¸ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì •í™•ë„ê°€ ${accuracy}%ë¡œ í•˜ë½í–ˆìœ¼ë©°, ì¬í•™ìŠµì„ ê³ ë ¤í•´ì•¼ í•˜ëŠ” ì‹œì ì…ë‹ˆë‹¤.` : ''}
          ${time > 60 && time <= 80 ? `ì‹¬ê°í•œ ë“œë¦¬í”„íŠ¸! ê³¼ê±° ê²°ì • ê²½ê³„ê°€ í˜„ì¬ ë°ì´í„°ì™€ ë§ì§€ ì•ŠìŠµë‹ˆë‹¤. ì¦‰ê°ì ì¸ ëª¨ë¸ ì¬í•™ìŠµì´ í•„ìš”í•©ë‹ˆë‹¤.` : ''}
          ${time > 80 ? `ëª¨ë¸ì´ ì™„ì „íˆ ë¬´ë ¥í™”ë˜ì—ˆìŠµë‹ˆë‹¤. T=0ì˜ ê²°ì • ê²½ê³„ë¡œëŠ” í˜„ì¬ ë°ì´í„°ë¥¼ ë¶„ë¥˜í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. COVID-19 íŒ¬ë°ë¯¹ ë•Œ ë§ì€ ì˜ˆì¸¡ ëª¨ë¸ì´ ì´ëŸ° ìƒí™©ì„ ê²ªì—ˆìŠµë‹ˆë‹¤.` : ''}
        </div>
      `;
    }

    // 5. K-sensitivity Demo
    let kDemoData = null;
    
    function updateK() {
      document.getElementById('k-val').textContent = document.getElementById('k-slider').value;
    }

    function runKDemo() {
      const canvas = document.getElementById('k-canvas');
      const ctx = canvas.getContext('2d');
      const K = parseInt(document.getElementById('k-slider').value);
      
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      if (!kDemoData) {
        kDemoData = [];
        const centers = [
          { x: 90, y: 70 }, { x: 360, y: 70 },
          { x: 130, y: 210 }, { x: 320, y: 220 }
        ];
        centers.forEach(c => {
          for (let i = 0; i < 25; i++) {
            kDemoData.push({
              x: randomGaussian(c.x, 32),
              y: randomGaussian(c.y, 28)
            });
          }
        });
      }
      
      const points = kDemoData.map(p => ({ ...p }));
      
      let centroids = [];
      for (let i = 0; i < K; i++) {
        centroids.push({
          x: 60 + Math.random() * 330,
          y: 50 + Math.random() * 180
        });
      }
      
      for (let iter = 0; iter < 15; iter++) {
        points.forEach(p => {
          let minDist = Infinity;
          centroids.forEach((c, i) => {
            const dist = Math.sqrt((p.x - c.x) ** 2 + (p.y - c.y) ** 2);
            if (dist < minDist) {
              minDist = dist;
              p.cluster = i;
            }
          });
        });
        
        centroids = centroids.map((_, i) => {
          const assigned = points.filter(p => p.cluster === i);
          if (assigned.length === 0) return { x: Math.random() * 400, y: Math.random() * 280 };
          return {
            x: assigned.reduce((s, p) => s + p.x, 0) / assigned.length,
            y: assigned.reduce((s, p) => s + p.y, 0) / assigned.length
          };
        });
      }
      
      // Silhouette score approximation
      let silhouette = 0;
      points.forEach(p => {
        const sameCluster = points.filter(q => q.cluster === p.cluster && q !== p);
        const a = sameCluster.length > 0 ? sameCluster.reduce((s, q) => s + Math.sqrt((p.x - q.x) ** 2 + (p.y - q.y) ** 2), 0) / sameCluster.length : 0;
        
        let minB = Infinity;
        for (let k = 0; k < K; k++) {
          if (k !== p.cluster) {
            const otherCluster = points.filter(q => q.cluster === k);
            if (otherCluster.length > 0) {
              const b = otherCluster.reduce((s, q) => s + Math.sqrt((p.x - q.x) ** 2 + (p.y - q.y) ** 2), 0) / otherCluster.length;
              minB = Math.min(minB, b);
            }
          }
        }
        
        if (minB !== Infinity && Math.max(a, minB) > 0) {
          silhouette += (minB - a) / Math.max(a, minB);
        }
      });
      silhouette = (silhouette / points.length).toFixed(3);
      
      const colors = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899', '#14b8a6', '#f97316'];
      points.forEach(p => {
        ctx.beginPath();
        ctx.arc(p.x, p.y, 6, 0, Math.PI * 2);
        ctx.fillStyle = colors[p.cluster % colors.length];
        ctx.fill();
      });
      
      centroids.forEach((c, i) => {
        ctx.beginPath();
        ctx.arc(c.x, c.y, 11, 0, Math.PI * 2);
        ctx.fillStyle = colors[i % colors.length];
        ctx.fill();
        ctx.strokeStyle = '#fff';
        ctx.lineWidth = 3;
        ctx.stroke();
        
        ctx.fillStyle = '#fff';
        ctx.font = 'bold 10px Arial';
        ctx.textAlign = 'center';
        ctx.fillText(i + 1, c.x, c.y + 4);
        ctx.textAlign = 'left';
      });
      
      ctx.font = '12px Arial';
      ctx.fillStyle = '#fbbf24';
      ctx.fillText(`K = ${K} (ë°ì´í„°ì˜ ì‹¤ì œ êµ°ì§‘ ìˆ˜: 4ê°œ)`, 10, 20);
      
      const resultDiv = document.getElementById('k-result');
      const optimalK = 4;
      resultDiv.innerHTML = `
        <h4>ğŸ“Š K=${K} êµ°ì§‘í™” ê²°ê³¼</h4>
        <p>
          <span class="metric">ì„¤ì •ëœ K: ${K}</span>
          <span class="metric">ì‹¤ì œ êµ°ì§‘ ìˆ˜: 4</span>
          <span class="metric ${Math.abs(K - optimalK) === 0 ? 'good' : Math.abs(K - optimalK) <= 1 ? 'warn' : 'bad'}">Silhouette Score: ${silhouette}</span>
        </p>
        <div class="insight">
          ğŸ’¡ <strong>í•µì‹¬ í†µì°°:</strong> 
          ${K < 3 ? `K=${K}ëŠ” ë„ˆë¬´ ì‘ìŠµë‹ˆë‹¤. ì„œë¡œ ë‹¤ë¥¸ ìì—°ìŠ¤ëŸ¬ìš´ êµ°ì§‘ë“¤ì´ ê°•ì œë¡œ í•˜ë‚˜ë¡œ í•©ì³ì¡ŒìŠµë‹ˆë‹¤. Silhouette Score(${silhouette})ê°€ ë‚®ì€ ì´ìœ ì…ë‹ˆë‹¤.` : ''}
          ${K === 3 ? 'K=3ì€ ì‹¤ì œ êµ°ì§‘ ìˆ˜(4)ë³´ë‹¤ ì ì–´, ë‘ êµ°ì§‘ì´ í•˜ë‚˜ë¡œ í•©ì³ì¡ŒìŠµë‹ˆë‹¤.' : ''}
          ${K === 4 ? `K=4ê°€ ë°ì´í„°ì˜ ì‹¤ì œ êµ¬ì¡°ì™€ ì¼ì¹˜í•©ë‹ˆë‹¤! Silhouette Score(${silhouette})ê°€ ê°€ì¥ ë†’ìŠµë‹ˆë‹¤.` : ''}
          ${K === 5 ? 'K=5ëŠ” ì‹¤ì œ êµ°ì§‘ ìˆ˜(4)ë³´ë‹¤ í¬ì§€ë§Œ, í•˜ë‚˜ì˜ êµ°ì§‘ì´ ë‘˜ë¡œ ë‚˜ë‰˜ì–´ë„ í° ë¬¸ì œê°€ ì•„ë‹ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' : ''}
          ${K > 5 ? `K=${K}ì€ ë„ˆë¬´ í½ë‹ˆë‹¤. ìì—°ìŠ¤ëŸ¬ìš´ êµ°ì§‘ë“¤ì´ ì¸ìœ„ì ìœ¼ë¡œ ìª¼ê°œì¡ŒìŠµë‹ˆë‹¤. ì‹¤ë¬´ì—ì„œëŠ” Elbow Methodë‚˜ Silhouette Scoreë¡œ ìµœì  Kë¥¼ ì°¾ìŠµë‹ˆë‹¤.` : ''}
          <br><br>
          <strong>ì‹¤ë¬´ ê³ ë ¤ì‚¬í•­:</strong> ë¹„ì¦ˆë‹ˆìŠ¤ì—ì„œëŠ” "í†µê³„ì ìœ¼ë¡œ ìµœì "ë³´ë‹¤ "ê´€ë¦¬ ê°€ëŠ¥í•œ ìˆ˜"ê°€ ì¤‘ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê³ ê° ì„¸ê·¸ë¨¼íŠ¸ 7ê°œ vs 50ê°œ ì¤‘ ë§ˆì¼€íŒ…íŒ€ì´ ì‹¤í–‰ ê°€ëŠ¥í•œ ê²ƒì€?
        </div>
      `;
    }

    // Initial render
    runImbalanceDemo();
  </script>
</body>
</html>
